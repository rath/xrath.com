---
title: "코드 배포할 때마다 50만원"
date: Sat Sep 04 2021 16:35:00 GMT+0900
slug: 2021/09/defi-gas-fee-shock
lang: ko
tags: ["defi", "ethereum", "gas-fees"]
---

DeFi 얼탱이 없는 점 하나. 가스비와 이더가 함께 치솟아서 내 코드 한 번 배포할 때마다 50만 원이 든다는 거다. 함수 하나 살짝 고쳐도 50만 원 태우고 다시 배포해야 해서 빠른 첫 릴리즈나 잦은 이터레이션은 파산을 초래한다. 개발자 생활을 시작한 이래 내가 테스트를 이렇게 진지하게 생각해 본 적이 없었다.

가상화폐라 좀 릴렉스한 느낌이 있을 줄 알았는데 실상은 모든 작은 행동에도 큰 책임(가스비)이 따르는 곳이었다. 코드 돌다가 에러 나서 트랜잭션 롤백되도 돌았던 부분까지는 가스비가 발생하니 버그도 만들면 안 된다.

며칠 L2 옵티미즘 거래하다가 L1으로 철수 중이라 7일간 자금이 묶여서 소액(천만 원 미만)으로 뭐 테스트하는데 가스비 30만 원 썼다. 만 원어치 배달 음식 시키면서 배달비 3천 원 내려면 얼탱이 없었는데 요새는 너무 싼 거 아닌가? 싶은 생각이 든다. 아 진짜 하면 할수록 얼탱이 없는데 그만두지는 못하겠다.
